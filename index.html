<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E.Z.A.F. Tutoring | Learning Made Simple</title>
    <!-- Core stylesheet -->
    <link rel="stylesheet" href="style.css" />
    <style>
        /* Fallback inline styling for critical rendering */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            color: #1b1c3e;
            line-height: 1.6;
            background-color: #fff;
        }

        /* PDF Viewer styling */
        .pdf-viewer-container {
            max-width: 900px;
            margin: 0 auto 3rem;
            border: 1px solid #dcdce8;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        .pdf-frame {
            width: 100%;
            height: 700px;
            border: none;
        }

        /* Basic section spacing matching your original look */
        main section { padding: 2rem 1rem; }
        main h2 { margin-top: 0; }
        header.hero {
            padding: 3rem 1rem;
            text-align: center;
            background: linear-gradient(135deg,#eef2ff,#ffffff);
        }
        header .hero-content h1 { margin: 0 0 .5rem; font-size: 2rem; }
        header .hero-content p { margin: 0 0 1rem; color: #4b5563; }
        .cta-button {
            display: inline-block; padding: .6rem 1rem; border-radius: 8px;
            background: #3b82f6; color: #fff; text-decoration: none; border: 1px solid #2563eb;
        }
        .service-grid {
            display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 1rem;
        }
        .service-card, .pricing-card {
            border: 1px solid #dcdce8; border-radius: 10px; padding: 1rem; background: #fff;
            box-shadow: 0 4px 14px rgba(0,0,0,.04);
        }
        footer {
            text-align:center; padding: 1.25rem; border-top: 1px solid #e5e7eb; color:#6b7280;
        }
        .note-warn { color:#b42318; text-align:center; margin: -10px 0 14px; }
    </style>
</head>
<body>
    <!-- Hero section with a math-themed background and succinct tagline -->
    <header class="hero">
        <div class="hero-content">
            <h1>Learning&nbsp;Made&nbsp;Simple</h1>
            <p>Personalized math &amp; science help for Grades&nbsp;9–12</p>
            <a href="#contact" class="cta-button">Book Your Free Consultation</a>
        </div>
    </header>

    <main>
        <!-- About section introducing the tutoring firm -->
        <section id="about" class="about-section">
            <h2>About Us</h2>
            <p>
                E.Z.A.F. Tutoring provides one-on-one support in math and the sciences (chemistry,
                biology and physics) for high school students. Every session is thoughtfully
                prepared around the student’s needs—lessons are planned in advance and
                students enjoy an extra 30 minutes of free response time to tackle any
                schoolwork they find challenging. Our goal is to build confidence and ensure
                deep understanding, not just memorization.
            </p>
        </section>

        <!-- Services section outlining what the firm offers -->
        <section id="services" class="services-section">
            <h2>What We Offer</h2>
            <div class="service-grid">
                <div class="service-card">
                    <h3>Custom Lessons</h3>
                    <p>
                        Lessons are designed specifically for each student, including an
                        additional 30&nbsp;minutes of free responses for any schoolwork they don’t
                        understand.
                    </p>
                </div>
                <div class="service-card">
                    <h3>Flexible Sessions</h3>
                    <p>
                        Need more practice on tough problems? Schedule an entire session of free
                        responses or tailor the structure to fit your learning style.
                    </p>
                </div>
                <div class="service-card">
                    <h3>Free Consultations</h3>
                    <p>
                        New students receive a free consultation to understand their goals and
                        learning gaps, plus complimentary practice sheets to reinforce their
                        skills.
                    </p>
                </div>
            </div>
        </section>

        <!-- Pricing section to highlight affordability and guarantee -->
        <section id="pricing" class="pricing-section">
            <h2>Affordable Pricing</h2>
            <div class="pricing-card">
                <h3>$30&nbsp;per&nbsp;session</h3>
                <p>
                    Each session includes 1.5&nbsp;hours of instruction and lesson planning.
                    Enjoy personalised help at an accessible rate.
                </p>
                <p>100&nbsp;% satisfaction or your money back.</p>
            </div>
        </section>

        <!-- Resources section with integrated PDF viewer -->
        <section id="resources" class="about-section">
            <h2>Resources & Materials</h2>
            <p style="text-align:center; max-width:700px; margin:0 auto 2rem;">
                View our downloadable resources, lesson samples, and information sheets directly below.
            </p>

            <div id="warn" class="note-warn" style="display:none;"></div>

            <div class="pdf-viewer-container">
                <iframe
                    id="pdfFrame"
                    class="pdf-frame"
                    title="EZAF PDF Viewer"
                    allowfullscreen>
                </iframe>
            </div>
        </section>

        <!-- Contact section with ways to reach the tutor -->
        <section id="contact" class="contact-section">
            <h2>Get in Touch</h2>
            <p>Call or text <a href="tel:+19055147522">(905)&nbsp;514-7522</a> to
                schedule your first free session.</p>
            <p>Email us anytime at 
                <a href="mailto:pierreibrahim@ezaftutoring.com">pierreibrahim@ezaftutoring.com</a>
                for general inquiries or lesson information.
            </p>
            <p>For technical assistance or platform-related issues, contact 
                <a href="mailto:support@ezaftutoring.com">support@ezaftutoring.com</a>.
            </p>
            <p>Located in Milton, Ontario. Serving students in person and online.</p>
            <p>First session is free for new students.</p>
        </section>
    </main>

    <!-- Footer with concise tagline -->
    <footer>
        <p>
            E.Z.A.F. Tutoring — Personalized math &amp; science help for Grades&nbsp;9–12.
            Learning made simple.
        </p>
        <p>
            Contact: <a href="mailto:pierreibrahim@ezaftutoring.com">pierreibrahim@ezaftutoring.com</a> |
            Support: <a href="mailto:support@ezaftutoring.com">support@ezaftutoring.com</a>
        </p>
    </footer>

    <script>
      (function () {
        const frame = document.getElementById('pdfFrame');
        const warn = document.getElementById('warn');

        // Encode a site-absolute path for PDF.js ?file= (fully encode, slashes as %2F)
        function toEncodedAbs(path) {
          if (!path) return "";
          if (!path.startsWith('/')) path = '/' + path.replace(/^\/+/, '');
          return encodeURIComponent(path); // matches your working pattern
        }

        function setViewer(path) {
          if (!path) return;
          const encoded = toEncodedAbs(path);
          // cache-bust viewer in case of CDN caching
          const viewerUrl = `pdfjs/web/viewer.html?v=6&file=${encoded}#zoom=page-width`;
          frame.src = viewerUrl;
        }

        function fallback(reason) {
          warn.style.display = 'block';
          warn.textContent = reason || 'Could not load /pdfs/manifest.json.';
          // Try a sensible default if it exists in your repo
          const defaultPath = '/pdfs/Introduction to Integrals.pdf';
          setViewer(defaultPath);
        }

        // Load first item from manifest, identical to your working approach
        fetch('/pdfs/manifest.json', { cache: 'no-store' })
          .then(r => {
            if (!r.ok) throw new Error('Manifest not found');
            return r.json();
          })
          .then(data => {
            const items = (data && Array.isArray(data.items)) ? data.items.filter(Boolean) : [];
            if (!items.length) {
              fallback('No items found in /pdfs/manifest.json.');
              return;
            }
            const first = items[0]?.file;
            if (!first) {
              fallback('First manifest item has no "file" path.');
              return;
            }
            setViewer(first);
          })
          .catch(() => {
            fallback('Could not load /pdfs/manifest.json.');
          });
      })();
    </script>
</body>
</html>
